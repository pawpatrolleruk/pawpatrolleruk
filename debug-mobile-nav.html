<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Mobile Nav</title>
    <link rel="stylesheet" href="src/css/index.css">
</head>
<body>
    <div id="navbar-container"></div>
    
    <div style="padding: 20px; margin-top: 100px;">
        <h1>Debug Page</h1>
        <p>This page should load the navbar component.</p>
        <button onclick="checkElements()">Check Elements</button>
        <div id="debug-output"></div>
    </div>

    <script type="module">
        import ComponentLoader from './src/js/component-loader.js';
        
        async function loadNavbar() {
            try {
                console.log('Loading navbar component...');
                await ComponentLoader.loadComponent('/src/components/navbar.html', '#navbar-container');
                console.log('Navbar loaded successfully');
                
                // Wait a bit and then check for elements
                setTimeout(() => {
                    const button = document.querySelector('.mobile-dropdown-button');
                    const content = document.querySelector('.mobile-dropdown-content');
                    console.log('After loading:', { button, content });
                    
                    if (button && content) {
                        console.log('Setting up mobile nav...');
                        button.addEventListener('click', function() {
                            console.log('Button clicked!');
                            content.classList.toggle('open');
                        });
                    }
                }, 100);
            } catch (error) {
                console.error('Error loading navbar:', error);
            }
        }
        
        window.checkElements = function() {
            const button = document.querySelector('.mobile-dropdown-button');
            const content = document.querySelector('.mobile-dropdown-content');
            const output = document.getElementById('debug-output');
            
            output.innerHTML = `
                <h3>Element Check:</h3>
                <p>Button found: ${!!button}</p>
                <p>Content found: ${!!content}</p>
                <p>Button classes: ${button ? button.className : 'N/A'}</p>
                <p>Content classes: ${content ? content.className : 'N/A'}</p>
            `;
        };
        
        document.addEventListener('DOMContentLoaded', loadNavbar);
    </script>
</body>
</html>
